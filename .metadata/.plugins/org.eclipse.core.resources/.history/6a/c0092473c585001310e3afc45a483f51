import java.io.*;
import java.net.*;

public class TCPServer 
{

	public static void main(String[] args) 
	{
		ServerSocket socket = null;
		int serverPort = 6789;
		
		try {
			socket = new ServerSocket(serverPort);
			while(true) {

				Socket server = socket.accept();

				PrintWriter printWriter = new PrintWriter(server.getOutputStream(),true);
				BufferedReader fromClient = new BufferedReader(new InputStreamReader(server.getInputStream()));
				String line = fromClient.readLine();
				System.out.println("Server received: " + line);
			}
		} catch (UnknownHostException e) {
			System.out.println("UnknownHostException:" + e.getMessage());
		} catch (IOException e) {
			System.out.println("IOException:" + e.getMessage());
		}
	}

}
